# Application environment (used to select .env.<NODE_ENV> file)
NODE_ENV=local

# HTTP server settings
# PORT: API server listen port
PORT=8080
# REQUEST_BODY_LIMIT: max request payload size accepted by Nest (e.g. 30mb)
REQUEST_BODY_LIMIT=30mb
# CORS_ORIGIN: single allowed origin for CORS
CORS_ORIGIN=http://localhost:8081
# CORS_ORIGINS: comma-separated list of allowed origins (overrides CORS_ORIGIN if set)
CORS_ORIGINS=

# Database connection
# POSTGRES_HOST: database hostname
POSTGRES_HOST=localhost
# POSTGRES_PORT: database port
POSTGRES_PORT=5433
# POSTGRES_USER: database username
POSTGRES_USER=giftx_admin
# POSTGRES_PASSWORD: database password
POSTGRES_PASSWORD=giftx_password
# POSTGRES_DB: database name
POSTGRES_DB=postgramx
# POSTGRES_SCHEMA: schema/search_path (defaults to public)
POSTGRES_SCHEMA=public
# POSTGRES_CONNECTION_TIMEOUT_MS: connection timeout in milliseconds
POSTGRES_CONNECTION_TIMEOUT_MS=10000
# POSTGRES_SYNCHRONIZE: auto-sync schema in TypeORM (true/false)
POSTGRES_SYNCHRONIZE=true
# POSTGRES_MIGRATION: auto-run migrations (true/false)
POSTGRES_MIGRATION=false
# CACHE_INVALIDATION_ENABLED: enable cache invalidation subscriber (true/false)
CACHE_INVALIDATION_ENABLED=false

# Admin panel credentials
# ADMIN_EMAIL: email for admin login
ADMIN_EMAIL=333
# ADMIN_PASSWORD: password for admin login
ADMIN_PASSWORD=333
# ADMIN_COOKIE_SECRET: cookie/session signing secret
ADMIN_COOKIE_SECRET=supersecurecookie

# Telegram bot configuration
# BOT_TOKEN: main Telegram bot token
BOT_TOKEN=8570971407:AAHoCJGsbuJ_5y-xqTyyLJd2TZ4lQggX3xQ
# TELEGRAM_BOT_USERNAME: bot username without @
TELEGRAM_BOT_USERNAME=
# TELEGRAM_SUPPORT_URL: support link for Telegram bot help/start messages
TELEGRAM_SUPPORT_URL=https://t.me/postgramx_support
# TELEGRAM_BOT_MODE: polling|webhook
TELEGRAM_BOT_MODE=polling
# TELEGRAM_ALLOWED_UPDATES: comma-separated list of updates for bot polling
TELEGRAM_ALLOWED_UPDATES=
# TELEGRAM_WEBHOOK_URL: webhook URL if TELEGRAM_BOT_MODE=webhook
TELEGRAM_WEBHOOK_URL=
# TELEGRAM_BOT_API_BASE_URL: custom API base URL (optional)
TELEGRAM_BOT_API_BASE_URL=
# TELEGRAM_BOT_FILE_API_BASE_URL: custom file API base URL (optional)
TELEGRAM_BOT_FILE_API_BASE_URL=
# TELEGRAM_MINI_APP_URL: legacy mini app URL (fallback)
TELEGRAM_MINI_APP_URL=https://frontend-stage.postgramx.com
# TELEGRAM_MINIAPP_SHORT_NAME: Telegram mini app short name for deep links
TELEGRAM_MINIAPP_SHORT_NAME=
# MINI_APP_URL: generic mini app URL (fallback)
MINI_APP_URL==https://frontend-stage.postgramx.com
# TELEGRAM_ANALYTICS_CHAT_ID: chat ID for analytics notifications
TELEGRAM_ANALYTICS_CHAT_ID=
# TELEGRAM_ANALYTICS_BOT_TOKEN: token for analytics bot
TELEGRAM_ANALYTICS_BOT_TOKEN=

# Deals configuration
# MAX_ACTIVE_PENDING_DEALS_PER_LISTING_PER_USER: max pending deals per user/listing
MAX_ACTIVE_PENDING_DEALS_PER_LISTING_PER_USER=3
# DEAL_IDLE_EXPIRE_MINUTES: idle deal expiration in minutes
DEAL_IDLE_EXPIRE_MINUTES=60
# CREATIVE_SUBMIT_DEADLINE_MINUTES: minutes allowed for creative submit
CREATIVE_SUBMIT_DEADLINE_MINUTES=1440
# ADMIN_RESPONSE_DEADLINE_HOURS: hours allowed for admin response
ADMIN_RESPONSE_DEADLINE_HOURS=24
# DEAL_PAYMENT_TIMEOUT_MINUTES: minutes allowed for payment
DEAL_PAYMENT_TIMEOUT_MINUTES=60
# REMINDER_BEFORE_EXPIRE_MINUTES: reminder before deal expiration
REMINDER_BEFORE_EXPIRE_MINUTES=60
# REMINDER_BEFORE_ADMIN_DEADLINE_MINUTES: reminder before admin deadline
REMINDER_BEFORE_ADMIN_DEADLINE_MINUTES=60
# REMINDER_BEFORE_PAYMENT_DEADLINE_MINUTES: reminder before payment deadline
REMINDER_BEFORE_PAYMENT_DEADLINE_MINUTES=60
# DEAL_TIMEOUTS_CRON_INTERVAL_MINUTES: cron interval for deal timeouts
DEAL_TIMEOUTS_CRON_INTERVAL_MINUTES=1
# AUTO_ADMIN_APPROVE: auto-approve admin actions (true/false)
AUTO_ADMIN_APPROVE=false
# VITE_AUTO_DEAL_COMPLETE: auto-complete deals after conditions met (true/false)
VITE_AUTO_DEAL_COMPLETE=false
# DEALS_MOCK_CREATIVE_APPROVE: mock creative approval (true/false)
DEALS_MOCK_CREATIVE_APPROVE=false

# Deal delivery posting worker
# DEALS_POSTING_CRON_EVERY_SECONDS: cron interval for posting worker
DEALS_POSTING_CRON_EVERY_SECONDS=15
# DEALS_POSTING_LOOKAHEAD_SECONDS: lookahead window for scheduled posts
DEALS_POSTING_LOOKAHEAD_SECONDS=60
# DEALS_POSTING_LOCK_TTL_SECONDS: advisory lock TTL for posting worker
DEALS_POSTING_LOCK_TTL_SECONDS=120

# Payments core configuration
# SETTLEMENT_CRON_INTERVAL_MINUTES: settlement cron interval
SETTLEMENT_CRON_INTERVAL_MINUTES=5
# VERIFY_WINDOW_HOURS: verification window in hours
VERIFY_WINDOW_HOURS=24
# PAYMENT_WINDOW_MINUTES: payment window in minutes
PAYMENT_WINDOW_MINUTES=60
# DEPOSIT_WALLET_MASTER_KEY: master key for escrow wallets
DEPOSIT_WALLET_MASTER_KEY=
# WALLET_MASTER_KEY: encryption key for wallet data
WALLET_MASTER_KEY=pKkor7bvR35hxWk5DGs7AaBL7CCyrOV26DgijGKyyw0=
# HOT_WALLET_ADDRESS: hot wallet address
HOT_WALLET_ADDRESS=EQCEyrKtCaGoUyyJKIyea7FVHsb9QLWojhKUzRykm_nJKolJ
# HOT_WALLET_MNEMONIC: hot wallet mnemonic phrase
HOT_WALLET_MNEMONIC=differ clay venue green blame two build seek tunnel repeat amazing sea invite toward mountain gun soup notice proud liar arrow settle hub clown

# TON network settings
# TON_NETWORK: TON network name (used by external tooling)
TON_NETWORK=testnet
# TONCENTER_RPC: toncenter RPC URL
TONCENTER_RPC=https://testnet.toncenter.com/api/v2/jsonRPC
# TONCENTER_API_KEY: toncenter API key
TONCENTER_API_KEY=087a6019ae397bbf719e61b5c8e66ea9b8d0b6b85448b3005aa6208158f270db
# TON_FINALITY_SECONDS: seconds to wait before marking transfer completed
TON_FINALITY_SECONDS=120
# TON_TRANSFER_TIMEOUT_SECONDS: transfer timeout in seconds
TON_TRANSFER_TIMEOUT_SECONDS=1800
# AUTO_POST_CONFIRM: legacy auto-post confirmation flag (unused)
AUTO_POST_CONFIRM=false

# Payments processing settings
# HOT_WALLET_ENABLED: enable hot wallet payouts
HOT_WALLET_ENABLED=true
# HOT_WALLET_MIN_RESERVE_NANO: min reserve on hot wallet
HOT_WALLET_MIN_RESERVE_NANO=200000000
# HOT_WALLET_LOW_LIQUIDITY_THRESHOLD_NANO: alert threshold
HOT_WALLET_LOW_LIQUIDITY_THRESHOLD_NANO=0
# PAYOUT_CRON_EVERY_SECONDS: payout processor cron interval
PAYOUT_CRON_EVERY_SECONDS=60
# PAYOUT_BATCH_LIMIT: max payouts per batch
PAYOUT_BATCH_LIMIT=20
# PAYOUT_DRY_RUN: simulate payouts without sending
PAYOUT_DRY_RUN=false
# SWEEP_FALLBACK_ENABLED: enable sweep fallback when liquidity low
SWEEP_FALLBACK_ENABLED=false
# SWEEP_MAX_GAS_RESERVE_NANO: gas reserve for sweep
SWEEP_MAX_GAS_RESERVE_NANO=50000000
# SWEEP_MIN_WITHDRAW_NANO: min amount to sweep
SWEEP_MIN_WITHDRAW_NANO=20000000
# SWEEP_ONLY_FOR_THIS_DEAL: only sweep for current deal
SWEEP_ONLY_FOR_THIS_DEAL=true
# SWEEP_MAX_RETRIES: max sweep retries
SWEEP_MAX_RETRIES=3
# ADMIN_ALERTS_ENABLED: enable admin alerts
ADMIN_ALERTS_ENABLED=false
# ADMIN_ALERTS_CHAT_ID: Telegram chat ID for alerts
ADMIN_ALERTS_CHAT_ID=268812292
# ADMIN_ALERTS_THREAD_ID: thread ID for alerts (optional)
ADMIN_ALERTS_THREAD_ID=
# ADMIN_ALERTS_MIN_LEVEL: info|warn|error
ADMIN_ALERTS_MIN_LEVEL=warn

# Fees configuration
# FEES_ENABLED: enable fee calculation
FEES_ENABLED=true
# PAYOUT_SERVICE_FEE_MODE: FIXED|BPS
PAYOUT_SERVICE_FEE_MODE=BPS
# PAYOUT_SERVICE_FEE_FIXED_NANO: fixed service fee
PAYOUT_SERVICE_FEE_FIXED_NANO=0
# PAYOUT_SERVICE_FEE_BPS: service fee in basis points
PAYOUT_SERVICE_FEE_BPS=50
# PAYOUT_SERVICE_FEE_MIN_NANO: minimum service fee
PAYOUT_SERVICE_FEE_MIN_NANO=0
# PAYOUT_SERVICE_FEE_MAX_NANO: maximum service fee (optional)
PAYOUT_SERVICE_FEE_MAX_NANO=
# PAYOUT_NETWORK_FEE_MODE: FIXED|ESTIMATE
PAYOUT_NETWORK_FEE_MODE=FIXED
# PAYOUT_NETWORK_FEE_FIXED_NANO: fixed network fee
PAYOUT_NETWORK_FEE_FIXED_NANO=5000000
# PAYOUT_NETWORK_FEE_MIN_NANO: minimum network fee
PAYOUT_NETWORK_FEE_MIN_NANO=0
# PAYOUT_NETWORK_FEE_MAX_NANO: maximum network fee (optional)
PAYOUT_NETWORK_FEE_MAX_NANO=
# PAYOUT_MIN_NET_AMOUNT_NANO: minimum payout amount after fees
PAYOUT_MIN_NET_AMOUNT_NANO=
# FEE_REVENUE_STRATEGY: LEDGER_ONLY|LEDGER_AND_TRANSFER
FEE_REVENUE_STRATEGY=LEDGER_ONLY
# FEE_REVENUE_ADDRESS: wallet to receive fee transfers
FEE_REVENUE_ADDRESS=EQDqgp8ak_mVUGVWBPlBiOtwpaOlQI5m6KSGJQ5OrB_Cz4py
